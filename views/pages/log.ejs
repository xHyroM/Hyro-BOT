<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Logs</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900" rel="stylesheet">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<link rel="shortcut icon" type="image/png" href="https://i.imgur.com/jyGY3Y9.png" />
</head>
<body>
  
  <style>
  
    body{
    font-family: "Roboto", sans-serif;
}
.maintenanceActive{
    background: #E74C3C;
    padding: 4px;
    border-radius: 8px;
    font-weight: bold;
}
.botWidget{
    width: 30%;
    padding: 2% 1.5%;
    margin-right: 1%;
    border: 4px solid #003780;
    border-radius: 8px;
    background: #0057A0;
    color: white;
}
.botWidget h4{
    margin: 10px 0;
    border-left: 3px solid #3498DB;
    padding-left: 7px;
}
.botFunctionWidget{
    width: 60%;
    padding: 1% 1%;
    border: 4px solid;
    border-radius: 8px;
    float: right;
}
.botFunctionWidget h4{
    margin: 10px 0;
    border-left: 3px solid #E74C3C;
    padding-left: 7px;
}
.botStatusSelection{
    padding: 9px;
    border-bottom: 2px solid #0077C0;
    border-left: none;
    border-right: none;
    border-top: none;
    outline: none;
}
.warning{
    border-left: 3px solid #C72C1C;
    padding: 6px 0 6px 7px;
    background: #E74C3C;
    border-radius: 0 4px 4px 0;
}
.botVersionWidget{
    background: #C72C1C;
    border: 4px solid #870000;
}
.botVersionWidget h4{
    margin: 0;
    border-left: 3px solid #E74C3C;
    padding-left: 7px;
}

.statusSymbol{
    width: 12px;
    height: 12px;
    border-radius: 100px;
    float: left;
    margin-top: 3px;
    margin-right: 5px;
}
.statusSymbolOnline{
     background: limegreen;
}
.statusSymbolIdle{
    background: #F39C12;
}
.statusSymbolDND{
    background: #E74C3C;
}
.statusSymbolInvisible{
    background: dimgrey;
}

/* Message.ejs */
.messageWidget h5{
    padding: 2%;
    color: white;
    margin: 10px 0 5px 10px;
}
.messageWidgetContent label{
    color: white !important;
}
.serverAdministratorMessageForm{
    border: 2px solid;
    padding: 1%;
    background-color: #2ECC71;
}
.messageWidgetContent{
    padding: 3%;
}

.respondToDM{
    background: #004790;
}
.respondToDM h5{
    background: #004790;
}
.respondToDM .messageWidgetContent{
    background: #0057A0;
}

.sendAdminMessage{
    background: #008C31;
}
.sendAdminMessage h5{
    background: #008C31;
}
.sendAdminMessage .messageWidgetContent{
    background: #0EAC51;
    color: white;
}

/* ===== Status Page (public) ===== */
.statusPageSection{
    padding: 1%;
    border: 1px solid;
    width: 50%;
    background: #f9f9f9;
}
.statusSymbolStatusPage{
    width: 16px;
    height: 16px;
    border-radius: 100px;
    float: left;
    margin-top: 2px;
    margin-right: 5px;
}

.statusPage_botStatus{
    padding: 2%;
    margin-bottom: 1%;
    font-weight: bold;
    color: white;
    font-size: large;
}

.botStatusOnline{
    background: limegreen;
    border-left: 5px solid green;
}
.botStatusIdle{
    background: #F39C12;
    border-left: 5px solid #D87400;
}
.botStatusDND{
    background: #E74C3C;
    border-left: 5px solid #C0392B;
}
.botStatusInvisible{
    background: dimgrey;
    border-left: 5px solid #3d3d3d;
}
.statusPageBotInforamtion_avatar{
    border-radius: 400px;
    box-shadow: 2px 2px 4px 2px rgba(0,0,0,.2);
}

.statusPage_botGuildsInformation{
    float: right;
    width: 44%;
}

/* ===== Log Page ===== */
.logContainer{
    background: #e3eaee;
    padding: 2%;
}
.logContainer ul{
    list-style-type: none;
    margin: 0;
    padding: 0;
}
.logContainer ul li {
    padding: 1%;
    border-radius: 0 4px 4px 0;
    background: #cbd2d6;
    margin-bottom: 5px;
    font-size: 16px;
}
.logContainer ul li.log_success{
    border-left: 6px solid #2ECC71;
}
.logContainer ul li.log_info{
    border-left: 6px solid #3498DB;
}
.logContainer ul li.log_error {
    border-left: 6px solid #E74C3C;
}
.logContainer ul li.log_maintenance{
    border-left: 6px solid #C0392B;
    background: #E74C3C;
    font-weight: bold;
    color: white;
}

/* ===== Manage Page ===== */

.management_commandsContainer{
    width: 70%;
    padding: 1%;
    border: 3px solid black;
    border-radius: 8px;
}
.management_commandsContainer h3{
    border-left: 6px solid #3498db;
    padding-left: 8px;
}
.commandInputSection{
    padding: 2%;
    border: 1px solid grey;
    border-radius: 4px;
    width: 96%;
}
.commandSubmitButton{
    margin: 0 auto;
    display: block;
    width: 30%;
}
.commandList{
    list-style-type: none;
    margin: 0;
    padding: 0;
}
.commandListItem{
    padding: 2%;
    margin-bottom: 1%;
    background-color: whitesmoke;
}
.commandName{
    font-weight: bold;
    font-size: x-large;
}
.commandFunctionHeadline{
    font-weight: bold;
    text-decoration: underline;
}
.commandAvailableInMaintenance{
    padding: 3px 7px;
    border-radius: 4px;
    font-weight: bold;
    width: 40px;
    text-align: center;
    display: inline-block;
    color: #fff;
}
.commandAvailableInMaintenanceFalse{
    background-color: #E74C3C;
}
.commandAvailableInMaintenanceTrue{
    background-color: #2ECC71;
}</style>
  
  <style>  
      .back {
        background-color: #23272A;
      }      
          
    
  </style>
<SCRIPT language=JavaScript>

       window.onload = function () {
           document.addEventListener("contextmenu", function (e) {
               e.preventDefault();
           }, false);
           document.addEventListener("keydown", function (e) {
               //document.onkeydown = function(e) {
               // "I" key
               if (e.ctrlKey && e.shiftKey && e.keyCode == 73) {
                   disabledEvent(e);
               }
               // "J" key
               if (e.ctrlKey && e.shiftKey && e.keyCode == 74) {
                   disabledEvent(e);
               }
               // "S" key + macOS
               if (e.keyCode == 83 && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
                   disabledEvent(e);
               }
               // "U" key
               if (e.ctrlKey && e.keyCode == 85) {
                   disabledEvent(e);
               }
               // "F12" key
               if (event.keyCode == 123) {
                   disabledEvent(e);
               }
           }, false);
           function disabledEvent(e) {
               if (e.stopPropagation) {
                   e.stopPropagation();
               } else if (window.event) {
                   window.event.cancelBubble = true;
               }
               e.preventDefault();
               return false;
           }
       }
//edit: removed ";" from last "}" because of javascript error
  
/*var message = "This function is blocked";

function rtclickcheck(keyp){ if (navigator.appName == "Netscape" && keyp.which == 3){ alert(message); return false; }

if (navigator.appVersion.indexOf("MSIE") != -1 && event.button == 2) { alert(message); return false; } }

document.onmousedown = rtclickcheck;*/
  
</SCRIPT> 
<div class="back">  
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
<!-- <nav class="mdl-navigation mdl-layout--large-screen-only"> -->
<nav class="mdl-navigation mdl-layout">
    <a class="mdl-navigation__link" href="/">Home</a>
    <a class="mdl-navigation__link" href="/log">Bot Logs</a>
  <!--  <a class="mdl-navigation__link" href="/lastmessages">Last Messages</a> -->
    <a class="mdl-navigation__link" href="/statsbot">Stats</a>
    <a class="mdl-navigation__link" href="/commands">Commands</a>
  <a class="mdl-navigation__link" href="https://discordapp.com/oauth2/authorize?client_id=492015015449067520&scope=bot&permissions=2147483127">Add Server</a>
</nav>
        </div>
    </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Dashboard</span>
<nav class="mdl-navigation mdl-layout">
    <a class="mdl-navigation__link" href="/">Home</a>
    <a class="mdl-navigation__link" href="/log">Bot Logs</a>
 <!--   <a class="mdl-navigation__link" href="/lastmessages">Last Messages</a> -->
    <a class="mdl-navigation__link" href="/statsbot">Stats</a>
    <a class="mdl-navigation__link" href="/commands">Commands</a>
  <a class="mdl-navigation__link" href="https://discordapp.com/oauth2/authorize?client_id=492015015449067520&scope=bot&permissions=2147483127">Add Server</a>
</nav>
    </div>
  
    <main class="mdl-layout__content" style="background-color: #23272A">
        <!-- page content -->
        <div class="page-content">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--2-col"></div>
                <div class="mdl-cell mdl-cell--8-col">
                  <h3><b><font color="white">Bot Log</font></b></h3>
                    <hr>
                    <div class="logContainer">
                        <ul>
                            <% log.forEach((log) => {%>
                                <li class="<%= "log_" + log.log_type %>">
                                    <%

                                        let convertingGetDay = function (getDay) {
                                            let day;
                                            switch (getDay){
                                                case 0:
                                                    day = "Sunday";
                                                    break;
                                                case 1:
                                                    day = "Monday";
                                                    break;
                                                case 2:
                                                    day = "Tuesday";
                                                    break;
                                                case 3:
                                                    day = "Wednesday";
                                                    break;
                                                case 4:
                                                    day = "Thursday";
                                                    break;
                                                case 5:
                                                    day = "Friday";
                                                    break;
                                                case 6:
                                                    day = "Saturday";
                                                    break;
                                                default:
                                                    day = "A problem occurred when trying to convert the Date.getDay() integer to a string \n";
                                            }
                                            return day;
                                        };

                                        let date = new Date(log.log_date);
                                        let day = convertingGetDay(date.getDay());

                                        // To understand converting timestamps to a normal known date
                                        // look at this question in StackOverflow -> https://goo.gl/Lb2Nxa
                                        // MDN Documentation about Date -> https://goo.gl/rT25GW

                                        // Minutes part from the timestamp
                                        let minutes = "0" + date.getMinutes();
                                        // Seconds part from the timestamp
                                        let seconds = "0" + date.getSeconds();

                                    %>
                                    [<%= day + ", " + (date.getMonth()+1) +  "/" + date.getDate() + "/" + date.getFullYear() + ", " + (date.getHours()+2) + ':' + minutes.substr(-2) + ":" + seconds.substr(-2) %>]
                                    <b><%= log.log_message %></b><br>
                                    <small><%= log.log_action %></small>

                                </li>
                            <% });%>
                        </ul>
                    </div>
                </div>
                <div class="mdl-cell mdl-cell--2-col">
                </div>
            </div>
        </div>
    </main>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../scripts/dashboard.js"></script>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</body>
</html>
